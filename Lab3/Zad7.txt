Zad. 7. 

TTY pts/0
konrad@konrad-Vostro-3500:~/Pulpit/SCR/SCR/Lab3$ gcc program.c 
konrad@konrad-Vostro-3500:~/Pulpit/SCR/SCR/Lab3$ strace ./a.out
execve("./a.out", ["./a.out"], 0x7ffe56d54180 /* 48 vars */) = 0
brk(NULL)                               = 0x56248976a000
arch_prctl(0x3001 /* ARCH_??? */, 0x7ffcd1ae2590) = -1 EINVAL (Zły argument)
access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (Nie ma takiego pliku ani katalogu)
openat(AT_FDCWD, "/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=76385, ...}) = 0
mmap(NULL, 76385, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7fd814c8a000
close(3)                                = 0
openat(AT_FDCWD, "/lib/x86_64-linux-gnu/libc.so.6", O_RDONLY|O_CLOEXEC) = 3
read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\360q\2\0\0\0\0\0"..., 832) = 832
pread64(3, "\6\0\0\0\4\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0"..., 784, 64) = 784
pread64(3, "\4\0\0\0\20\0\0\0\5\0\0\0GNU\0\2\0\0\300\4\0\0\0\3\0\0\0\0\0\0\0", 32, 848) = 32
pread64(3, "\4\0\0\0\24\0\0\0\3\0\0\0GNU\0\363\377?\332\200\270\27\304d\245n\355Y\377\t\334"..., 68, 880) = 68
fstat(3, {st_mode=S_IFREG|0755, st_size=2029224, ...}) = 0
mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7fd814c88000
pread64(3, "\6\0\0\0\4\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0"..., 784, 64) = 784
pread64(3, "\4\0\0\0\20\0\0\0\5\0\0\0GNU\0\2\0\0\300\4\0\0\0\3\0\0\0\0\0\0\0", 32, 848) = 32
pread64(3, "\4\0\0\0\24\0\0\0\3\0\0\0GNU\0\363\377?\332\200\270\27\304d\245n\355Y\377\t\334"..., 68, 880) = 68
mmap(NULL, 2036952, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7fd814a96000
mprotect(0x7fd814abb000, 1847296, PROT_NONE) = 0
mmap(0x7fd814abb000, 1540096, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x25000) = 0x7fd814abb000
mmap(0x7fd814c33000, 303104, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x19d000) = 0x7fd814c33000
mmap(0x7fd814c7e000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1e7000) = 0x7fd814c7e000
mmap(0x7fd814c84000, 13528, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7fd814c84000
close(3)                                = 0
arch_prctl(ARCH_SET_FS, 0x7fd814c89540) = 0
mprotect(0x7fd814c7e000, 12288, PROT_READ) = 0
mprotect(0x56248929e000, 4096, PROT_READ) = 0
mprotect(0x7fd814cca000, 4096, PROT_READ) = 0
munmap(0x7fd814c8a000, 76385)           = 0
fstat(1, {st_mode=S_IFCHR|0620, st_rdev=makedev(0x88, 0), ...}) = 0
brk(NULL)                               = 0x56248976a000
brk(0x56248978b000)                     = 0x56248978b000
write(1, "Witajcie moi mili ...\0\0\0\1\33\3;@\0\0\0"..., 1024Witajcie moi mili ...@���t$����4����D���\-����d��������4zRx
                                                                                                                        ����/D$4���� FJ
                                                                                                                                       �?�:*3$D�p���eF�I�E �E(�D0�H8�G@n8A0A(B BB�����) = 1024
write(1, "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 1024) = 1024
write(1, "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 1024) = 1024
write(1, "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 613@
�������o�p�
) = 613
write(1, "\0\0\0\0\0\0\0\205\0\0\0\0\0\0\0\v\0\0\0\0\0\0\0\30\0\0\0\0\0\0\0\25"..., 1024�
                                                                                         �?�   ���������o���o����o�=0Witajcie moi mili ...@���t$����4����D���\-����d��������4zRx
                                 ����/D$4���� FJ
D�p���eF�I�E �E(�D0�H8�G@n8A0A(B BB�����) = 1024�?�:*3$"\����tx����Y���3E�C
write(1, "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 1024) = 1024
write(1, "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 1024) = 1024
write(1, "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 1024@�)�$V�)�$V
�������o��)�$Vp�)�$Vȳ)�$V
) = 1024
write(1, "\0\0\0\0\0\0\0\205\0\0\0\0\0\0\0\v\0\0\0\0\0\0\0\30\0\0\0\0\0\0\0\25"..., 1024�
                                                                                         `�����)�$V�)�$V(�)�$� ���������o���o��)�$V���o�=����ϫ����)�$V�)�$V) = 1024
write(1, "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 1024) = 1024
write(1, "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 1024) = 1024
write(1, "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 1024) = 1024
--- SIGSEGV {si_signo=SIGSEGV, si_code=SEGV_MAPERR, si_addr=0x5624892a0000} ---
+++ killed by SIGSEGV (core dumped) +++
Naruszenie ochrony pamięci (zrzut pamięci)


Błąd w programie znaleziono przy pomocy polecenia 'strace ./a.out' i wykryto, że program próbował 
wyświetlić dużo znaków. Błąd polega na tym, że pętla for nie ma warunku kończącego jej działanie, więc po 
wyświetleniu wszystkich widocznych znaków próbuje wyświetlić znak końca ciągu znakowego '\0' i kolejne 
znaki występujące dalej. Dzieje się tak dopóki program nie spróbuje odczytać danych z pamięci do której nie 
ma dostępu. Wtedy program dostaje sygnał naruszenia ochrony pamięci (SIGSEGV - segmentation fault) i 
zostaje zabity. Wywołanie komendy strace z flagą '-r' powoduje wyświetlenie czasu trwania każdego z 
podstawowych poleceń wykonywanych przez system. Załączono poprawiony program.



